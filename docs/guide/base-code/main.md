<h1 id="header:CVG:BASE-CODE-SOURCE-HEADER">Base code source</h1>

`````Lisp
(IN-PACKAGE :CVG)

(DEFCONSTANT +WIDTH+ 800)

(DEFCONSTANT +HEIGHT+ 600)

(DEFSTRUCT TRIANGLE-APP WINDOW)

(DEFUN INIT-WINDOW (APP)
  (GLFW:INIT)
  (GLFW:WINDOW-HINT GLFW:GLFW_CLIENT_API GLFW:GLFW_NO_API)
  (GLFW:WINDOW-HINT GLFW:GLFW_RESIZABLE NIL)
  (SETF (TRIANGLE-APP-WINDOW APP)
          (GLFW:CREATE-WINDOW 800 600 "Vulkan" NIL NIL))
  (SETF (TRIANGLE-APP-WINDOW APP)
          (GLFW:CREATE-WINDOW +WIDTH+ +HEIGHT+ "Vulkan" NIL NIL)))

(DEFUN INIT-VULKAN (APP))

(DEFUN MAIN-LOOP (APP)
  (LOOP WHILE (NOT (GLFW:WINDOW-SHOULD-CLOSE (TRIANGLE-APP-WINDOW APP)))
        DO (GLFW:POLL-EVENTS)))

(DEFUN CLEANUP (APP)
  (GLFW:DESTROY-WINDOW (TRIANGLE-APP-WINDOW APP))
  (GLFW:TERMINATE))

(DEFUN RUN (APP)
  (INIT-WINDOW APP)
  (INIT-VULKAN APP)
  (MAIN-LOOP APP)
  (CLEANUP APP))

(DEFUN CVG:MAIN ()
  (LET ((APP (MAKE-TRIANGLE-APP)))
    (RUN APP)))
`````

